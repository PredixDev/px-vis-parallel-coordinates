sudo: required
dist: trusty
language: node_js
node_js:
- stable
branches:
  except:
  - gh-pages
addons:
  firefox: latest
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
before_script:
- npm install web-component-tester
- npm install bower
- export PATH=$PWD/node_modules/.bin:$PATH
- bower install
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
after_success:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then openssl aes-256-cbc -k "$DEPLOYSECRET"
  -in deploy.enc -out deploy_key -d; fi
- cd $TRAVIS_BUILD_DIR/scripts
- chmod 755 ghp.sh
- "./ghp.sh"
env:
  global:
  - secure: SsSiGzkW4zojxBAvQHOgz0KiNX+UY0DQO6KrcCcsgOTK/OmxTTlc++mTBENI5FwfSa1ADQQH0VjlZIfvC4Lfor6pPTpKoS0YPdoCE5AVy2vlJM/Ftp8z6AjF1hTbLntgTPZVvg7oNwg8zAvKNatbVRLC26jUwqEL0xnbAk/XAbevj1JLslK4vVM9be/7ZAOm6pSXZIcUhg0FHEtv+o7MXmZduRTczae0NOtPOMhE8hKVeHmey8IuJHojcrp4gq2gwgGWlykwTwbqWjD+fLRrICT/0wdPXRcZiOVkJjUrWdyC2ZyjHtYCTlmZ5OpS742Czw+pLeJH7JiJE4WrZKsEqqTJeDB1/3MZNsnVCIVdv83bOwUyhVCGxKCjIlVmM+fejMAIv6yMgHMPDaIW9e2Sz0qcfInOLlJs6V1IYjuRtJTwpxFqnDFT2An9py47iDCUsSF9HPzg7GrqggrklgrJ/OFCG2eH708JU8KLfL11isqtmh5tp0h0OYyI/FN6Pee2kiILkppB/cQndAKc0gW2C5ugPmzZX96lK6QU7MCZKQuYDX8wtJ8EXtApg8cdSz7Exso2ay+qIwnZIrtm/C0Jhp2rM0rh0qw7qAKd3y/0phDsU84soPgXS8Xa3TvsOExCegj16VqrnJh6A2WJ9dIkw+RciK9WASVXqrRbXyx+JFE=
  - secure: VUeO/TgSJ1DWEOnkp0TJbocdGJN3Vahv0gaXgl6EVL3Kddv1H2iBsUI9FGHURPQNw1OKJRLWcHJh0QycN7BlfpRQGArRIyTO2J34NRZEbuhCpJxOIjbBKwrSrXecu3FvyWG/zg0n+n2Qji8WFD26uGU1LkrU/TYECAirt6K6pkmzd+Kxotw6wNRF7DWFyBt3g/VUmjguMJCrri26cRXeNEI9Xjnkocg2I3CFZ/WPzAzyrPA0NKKT/nOANCWEIJNAiPFRG3pgLHNZj9SiG6mjGUUPtF3pSKdBhWG244UNN9k6YkjaSZ4zbPY3kxTxFTZrIpctZiVwpPR/OxUCPje+cWisJstSp+tjW4QSh8UHF0rF3NSf8BzSNDp26al0SYU7qj4d5CiZXv8CP2MyPUpXuO2uYec9+bFZ50KF1iONmN/f7teKDHRYdJClogd2UZ+VKjnWZ7rNBJam2IRBqxSx4kR3sfOlEbKb0Cn01+TPPUFt3Cp78QSwToMqt4iNyKh52krEVo71p+tsS8mKOBULYqIodsU8P0u1DVVmlJICFJZzEemNbfBRiwdlf2yh6+6zi4iKVVCgayeG5rDNzFivdSA0BU7dviBiOcH5U8wXUr0vzxxxMxCbj+c9pP5t1A4C9S75lT6RgzJ2Fw6SdLFNoOiQpy13IdiBZ0giL7goghM=
